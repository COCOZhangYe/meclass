# 觅课堂接口文档

## 用户登录

http请求方式: POST

Content-Type：json

```http
/user/login 
```

| 字段  | 说明 | 类型    | 是否必填 |
| ----- | ---- | ------- | -------- |
| uname | 名字 | String  | 是       |
| pwd   | 密码 | String  | 是       |
| flag  | 标志 | Integer | 是       |

 

登录成功返回JSON数据包:

```json
 {
    "code": 0,
    "msg": "登陆成功 ",
    "data": {
        "iduser": 5,
        "uname": "hello",
        "pwd": null,
        "flag": 1
    }
}
```

用户或者密码为空返回JSON数据包:

```json
 {
    "code": 1,
    "msg": "用户或密码为空 ",
    "data": null
}  
```

用户或者密码错误返回JSON数据包: 

```json
{
    "code": 1,
    "msg": "用户或密码错误",
    "data": null
}    
```

| 参数 | 说明                              |
| ---- | --------------------------------- |
| msg  | 提示消息                          |
| Data | 返回登录的用户名和密码            |
| flag | 标志0:学生 标志1:教师             |
| code | 状态 1：登录失败 状态 0：登录成功 |

## 用户注册

http请求方式: POST

Content-Type：json  

```http
/user/register
```

| 字段  | 说明 | 类型    | 是否必填 |
| ----- | ---- | ------- | -------- |
| uname | 名字 | String  | 是       |
| pwd   | 密码 | String  | 是       |
| flag  | 标志 | Integer | 是       |

注册返回JSON数据包： 

```
{
    "code": 0,
    "msg": "注册成功",
    "data": null
}
```

用户注册失败返回JSON数据包：

```
{
    "code": 1,
    "msg": "注册失败",
    "data": null
}
```

| 参数 | 说明                         |
| ---- | ---------------------------- |
| msg  | 提示消息                     |
| code | 状态码 1：失败，状态 0：成功 |

## 获取用户信息

http请求方法：POST



```http
/user/get
```

成功返回用户名

```json
{
    "code": 0,
    "msg": "查询成功",
    "data": 用户名
}
```

失败

```json
{
    "code": 1,
    "msg": "查询成功",
    "data": null
}
```



## 根据视频名称查看视频

http请求方法：GET

Form-data

```http
/video/get
```

| 字段       | 说明   | 类型   | 是否必填 |
| ---------- | ------ | ------ | -------- |
| videoTitle | 文件名 | String | 是       |

查看视频成功返回视频流

```json
{
    "code": 0,
    "msg": "查看成功 ",
    "data": 视频流
}
```

失败

```json
{
    "code": 1,
    "msg": "查看失败",
    "data": null
}
```



## 上传视频

http请求方法：POST

form-data：

| 参数       | 说明     |
| ---------- | -------- |
| file       | mp4文件  |
| videoTitle | 文件名字 |

```http
/video/add
```

| 字段       | 说明     | 类型    | 是否必填 |
| ---------- | -------- | ------- | -------- |
| videoId    | 文件id   | Integer | 是       |
| videoTitle | 文件名   | String  | 是       |
| path       | 文件路径 | String  | 是       |
| playCount  | 播放次数 | Integer | 否       |



上传视频成功返回：

```json
{
    "code": 0,
    "msg": "上传视频成功 ",
    "data": null
}
```

上传视频成功返回：

```json
{
    "code": 1,
    "msg": "上传视频失败 ",
    "data": null
}
```

## 查询所有视频名称

http请求方法：POST

```http
/video/findVideoAll
```

查询成功

```json
{
    "code": 0,
    "msg": "查询成功",
    "data": [
        {
            "videoId": 1,
            "videoTitle": "送饭",
            "path": null,
            "playCount": 0
        }
}
```

查询失败

```json
{
    "code": 1,
    "msg": "查询失败"
 }
```

